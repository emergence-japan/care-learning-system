# Track Specification: 施設ごとのスタッフ数制限機能

## 1. 概要 (Overview)
法人全体の総数ではなく、各施設（Facility）ごとに個別のスタッフ登録上限（定員）を設定できる機能を導入します。これにより、施設の規模や契約内容に応じた柔軟な運用を可能にします。

## 2. ユーザー体験 (User Experience)
- **システム管理者 (SUPER_ADMIN):**
  - 施設の新規登録および編集時に、その施設の「最大スタッフ数」を必須項目として設定する。
  - 法人・施設一覧画面で、各施設ごとの定員と現在の充足状況を確認できる。
- **施設管理者 (ADMIN):**
  - 自施設のダッシュボード上で「自施設の登録スタッフ数 / 施設定員」を確認できる。
  - 定員に達している場合、新規スタッフ登録ボタンが非活性になり、制限がかかっていることが明示される。

## 3. 機能要件 (Functional Requirements)
- **データモデルの変更:**
  - `Facility` モデルに `maxStaff` フィールドを追加（必須、整数）。
  - （任意）`Corporation` モデルの `maxStaff` フィールドは使用を停止または廃止。
- **システム管理者向け機能:**
  - 施設作成・編集フォームへの「最大スタッフ数」項目追加。
  - 管理画面での「施設別充足率」表示。
- **制限ロジックとUI制御:**
  - 施設ごとのスタッフ登録制限ロジックの実装（`registerStaff` アクションの更新）。
  - ADMINダッシュボードにおける登録ボタンの制御。

## 4. 受入基準 (Acceptance Criteria)
- [ ] SUPER_ADMIN が施設ごとに個別のスタッフ上限を設定できること。
- [ ] 施設定員に達した際、その施設のみでスタッフ登録が制限されること。
- [ ] サーバーサイドバリデーションが「施設ごとの定員」に基づいて正しく動作すること。
- [ ] 既存の法人全体の上限チェックを、施設単位のチェックに置き換えられていること。
